# ========================================
# THE ROYAL BARBER API - ENVIRONMENT VARIABLES
# ========================================
# Copy this file to .env and fill in your actual values
# cp env.example .env

# ========================================
# DATABASE CONFIGURATION
# ========================================
# PostgreSQL connection string
DATABASE_URL=postgresql://username:password@localhost:5432/the_royal_barber

# ========================================
# JWT CONFIGURATION
# ========================================
# Generate with: openssl rand -base64 64
JWT_SECRET=your-super-secure-jwt-secret-at-least-32-characters-long
REFRESH_SECRET=your-super-secure-refresh-secret-at-least-32-characters-long
INTERNAL_API_SECRET=your-internal-api-secret-for-service-communication

# ========================================
# STRIPE CONFIGURATION
# ========================================
# Get from Stripe Dashboard > Settings > API keys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Note: In production (live mode), successUrl/cancelUrl passed to the
# /payments/checkout endpoint must be HTTPS and not localhost.
# Also ensure your service price IDs in the DB were created with the same
# Stripe key mode (test vs live), otherwise Checkout will fail with
# `resource_missing` (e.g., "No such price").

# ========================================
# TWILIO CONFIGURATION (SMS)
# ========================================
# Get from Twilio Console > Dashboard
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=your_twilio_auth_token_here
TWILIO_PHONE_NUMBER=+1234567890

# ========================================
# RESEND CONFIGURATION (EMAIL)
# ========================================
# Get API key from: https://resend.com/api-keys
# IMPORTANT: You MUST verify your domain in Resend before using it
# See: https://resend.com/domains
RESEND_API_KEY=re_your_resend_api_key_here

# Must use a verified domain (not onboarding@resend.dev in production)
# Example: noreply@yourdomain.com, support@yourdomain.com
RESEND_FROM_EMAIL=noreply@yourdomain.com

# ========================================
# SERVER CONFIGURATION
# ========================================
# Environment (development/production)
NODE_ENV=development

# Server port (default: 3001 for Stripe webhook compatibility)
PORT=3001

# API base URL for internal communication
API_BASE_URL=http://localhost:3001

# ========================================
# FEATURE FLAGS
# ========================================
# Disable SMS sending (set to true for development)
DISABLE_SMS=false

# Enable debug mode (set to false for production)
DEBUG_MODE=false

# Log SMS codes to console (set to false for production)
LOG_SMS_CODES=false

# Enable notifications
ENABLE_NOTIFICATIONS=true

# ========================================
# LOGGING CONFIGURATION
# ========================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# ========================================
# SECURITY CONFIGURATION
# ========================================
# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8081,exp://localhost:8081

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# PRODUCTION CHECKLIST
# ========================================
# Before deploying to production, ensure:
# 1. NODE_ENV=production
# 2. DATABASE_URL points to production database
# 3. JWT_SECRET and REFRESH_SECRET are secure and unique
# 4. STRIPE_SECRET_KEY is live key (not test)
# 5. TWILIO credentials are valid
# 6. RESEND_API_KEY is valid
# 7. DISABLE_SMS=false
# 8. DEBUG_MODE=false
# 9. LOG_SMS_CODES=false
# 10. All secrets are different from example values
# 11. CORS_ORIGINS includes your production domains 
